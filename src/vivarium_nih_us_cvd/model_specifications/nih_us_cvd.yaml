components:
    vivarium_public_health:
        population:
            - BasePopulation()
            - Mortality()
        metrics:
            - MortalityObserver()
            - DisabilityObserver()
            - DiseaseObserver("ischemic_stroke")
            - DiseaseObserver("myocardial_infarction")
            - DiseaseObserver("angina")
        disease:
            - SI("angina")
        risks:
            - RiskEffect("risk_factor.high_ldl_cholesterol", "cause.acute_myocardial_infarction.incidence_rate")
            - RiskEffect("risk_factor.high_ldl_cholesterol", "cause.post_myocardial_infarction_to_acute_myocardial_infarction.transition_rate")
            - RiskEffect("risk_factor.high_ldl_cholesterol", "cause.acute_ischemic_stroke.incidence_rate")
            - RiskEffect("risk_factor.high_ldl_cholesterol", "cause.chronic_ischemic_stroke_to_acute_ischemic_stroke.transition_rate")
            - RiskEffect("risk_factor.high_ldl_cholesterol", "cause.angina.incidence_rate")
            
            - RiskEffect("risk_factor.high_systolic_blood_pressure", "cause.acute_myocardial_infarction.incidence_rate")
            - RiskEffect("risk_factor.high_systolic_blood_pressure", "cause.post_myocardial_infarction_to_acute_myocardial_infarction.transition_rate")
            - RiskEffect("risk_factor.high_systolic_blood_pressure", "cause.acute_ischemic_stroke.incidence_rate")
            - RiskEffect("risk_factor.high_systolic_blood_pressure", "cause.chronic_ischemic_stroke_to_acute_ischemic_stroke.transition_rate")
            - RiskEffect("risk_factor.high_systolic_blood_pressure", "cause.angina.incidence_rate")

    vivarium_nih_us_cvd:
        components:
            - ResultsStratifier()

            - IschemicStroke()
            - MyocardialInfarction()

            - Risk("risk_factor.high_ldl_cholesterol")
            - ContinuousRiskObserver("risk_factor.high_ldl_cholesterol")
            
            - Risk("risk_factor.high_systolic_blood_pressure")
            - ContinuousRiskObserver("risk_factor.high_systolic_blood_pressure")

            - HealthcareUtilization() # Note that this uses Treatment() as a sub-component
            - HealthcareVisitObserver()
        

configuration:
    input_data:
        input_draw_number: 0
        location: 'Alabama'
        artifact_path: '/ihme/costeffectiveness/artifacts/vivarium_nih_us_cvd/alabama.hdf'
    interpolation:
        order: 0
        extrapolate: True
    randomness:
        map_size: 1_000_000
        key_columns: ['entrance_time', 'age']
        random_seed: 0
    time:
        start:
            year: 2021 # Includes two years for burn-in
            month: 1
            day: 1
        observation_start: # TODO: Implement for all observers (currently only HealthcareVisit)
            year: 2023
            month: 1
            day: 1
        end:
            year: 2040
            month: 12
            day: 31
        step_size: 28 # Days
    population:
        population_size: 50_000
        age_start: 7
        age_end: 125
        exit_age: 125
    observers:
        default:
            - 'age'
            - 'sex'
            - 'year'